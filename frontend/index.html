<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Api</title>
</head>
<body>

    <h2>Buscar Empleado</h2>
    <input type="text" id="campo" placeholder="Id Usuario"></input>
    <button onclick="filtrar()">
        Buscar
    </button>

    <h2>Eliminar Empleado</h2>
    <input type="text" id="campoEliminar" placeholder="Id Usuario"></input>
    <button onclick="eliminar()">
        Eliminar
    </button>
    


    <h2>Listar Empleados</h2>
    <button onclick="get('empleados')">
        Empleados
    </button>
    <ul id="resultados">

    </ul>


    <script>

        function get(parametro){
            fetch('http://localhost/api/backend/'+parametro)
            .then(valor=>valor.json())
            .then(valor=>{
                var resultado = document.getElementById('resultados');
                resultado.innerHTML ='';

                for(let dato of valor){
                    resultado.innerHTML +=`
                    
                    <li>ID: ${dato.id} - Nombre: ${dato.nombre} - Apellido: ${dato.apellido} - Edad: ${dato.edad}</li>
                    
                    `;
                }

            });
        }

        function filtrar(){
            var id = document.getElementById('campo').value;
            fetch('http://localhost/api/backend/'+id)
            .then(valor=>valor.json())
            .then(valor =>{
                var resultado = document.getElementById('resultados');
                resultado.innerHTML ='';
                for(let dato of valor){
                    resultado.innerHTML +=`
                    
                    <li>ID: ${dato.id} - Nombre: ${dato.nombre} - Apellido: ${dato.apellido} - Edad: ${dato.edad}</li>
                    
                    `;
                }
            })
        }

        function eliminar(){
            var apoyo = document.getElementById('campoEliminar').value;
            var id = 'eliminar'+apoyo;
            fetch('http://localhost/api/backend/'+id)

        }

    </script>

</body>
</html>